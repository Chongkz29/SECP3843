<a href="https://github.com/drshahizan/SECP3843/stargazers"><img src="https://img.shields.io/github/stars/drshahizan/SECP3843" alt="Stars Badge"/></a>
<a href="https://github.com/drshahizan/SECP3843/network/members"><img src="https://img.shields.io/github/forks/drshahizan/SECP3843" alt="Forks Badge"/></a>
<a href="https://github.com/drshahizan/SECP3843/pulls"><img src="https://img.shields.io/github/issues-pr/drshahizan/SECP3843" alt="Pull Requests Badge"/></a>
<a href="https://github.com/drshahizan/SECP3843/issues"><img src="https://img.shields.io/github/issues/drshahizan/SECP3843" alt="Issues Badge"/></a>
<a href="https://github.com/drshahizan/SECP3843/graphs/contributors"><img alt="GitHub contributors" src="https://img.shields.io/github/contributors/drshahizan/SECP3843?color=2b9348"></a>
![Visitors](https://api.visitorbadge.io/api/visitors?path=https%3A%2F%2Fgithub.com%2Fdrshahizan%2FSECP3843&labelColor=%23d9e3f0&countColor=%23697689&style=flat)


Don't forget to hit the :star: if you like this repo.

# Special Topic Data Engineering (SECP3843): Alternative Assessment

#### Name: Yong Zhi Yan
#### Matric No.: A20EC0172
#### Dataset: City Inspections	

## Question 3 (a)
### Steps to implement registration and login function in Django application using MySQL

#### 1. Set up Django application
Set up virtual environment in the directory of the project using the command <code>py -m venv env</code>. Activate the virtual environment by running <code>env\Scripts\activate</code>. Then start a new project using the command <code>django-admin startproject AA_Q3</code>. <br>
<img src="./files/images/Screenshot%202023-06-27%20161044.png" alt="startproject"><br>
Next, install Django package in the project file by running <code>pip install django</code>. <br>
<img src="./files/images/Screenshot%202023-06-29%20004253.png" alt="install django"><br>
Create a Django application through the code <code>python manage.py startapp Q3_APP</code>. <br>
<img src="./files/images/Screenshot%202023-06-27%20161552.png" alt="startapp"><br>
Then, install all necessary packages for this application, such as "mysql-connector-python" and "mysqlclient". The code for installations are <code>pip install mysql-connector-python</code> and <code>pip install mysqlclient</code>. <br>
<img src="./files/images/Screenshot%202023-06-27%20161129.png" alt="mysql=connector=python"><br>
<img src="./files/images/Screenshot%202023-06-29%20004303.png" alt="install mysqlclient"><br>
Update the installed app information in the settings.py file. <br>
<img src="./files/images/Screenshot%202023-06-27%20161546.png" alt="setting app"><br>
Update the database information in the settings.py file. <br>
<img src="./files/images/Screenshot%202023-06-27%20161742.png" alt="setting db"><br>

#### 2. Set up the model of the application
The model of the application is created in the models.py file under the directory of Q3_APP as shown as below. <br>
<img src="./files/images/Screenshot%202023-06-29%20024111.png" alt="models.py"><br>


#### 3. Migrate to MySQL database
To implement the created model, migrations to the MySQL database is done via the commands <code>python manage.py makemigrations</code> and <code>python manage.py migrate</code>. <br>
<img src="./files/images/Screenshot%202023-06-29%20004330.png" alt="makemigrations"><br>
<img src="./files/images/Screenshot%202023-06-29%20004400.png" alt="migrate"><br>
The updated database is shown as below. <br>
<img src="./files/images/Screenshot%202023-06-29%20004419.png" alt="db migrated"><br>

#### 4. Set up the registration and login function
Create the classes for user registration and login purposes and store them in a file named "form.py" under the directory of Q3_APP as shown as below. <br>
<img src="./files/images/Screenshot%202023-06-29%20023915.png" alt="form.py"><br>
Create a new folder named "templates" along with subfolder named "registration" under the directory of Q3_APP. <br>
<img src="./files/images/Screenshot%202023-06-29%20010513.png" alt="add template folder"><br>
Create registration form named "register.html" inside the "registration" folder, and write code to implement the default form generated by Django as shown as below. <br>
<img src="./files/images/Screenshot%202023-06-29%20023901.png" alt="register.html"><br>
Update the "Views.py" file with the user registration function to handle the data collected from the registration form. <br>
<img src="./files/images/Screenshot%202023-06-29%20010602.png" alt="views.py register"><br>
For login page, implement the form in the login.html file. <br>
<img src="./files/images/Screenshot%202023-06-29%20023852.png" alt="login.html"><br>
Update the "Views.py" file with the user login function. <br>
<img src="./files/images/Screenshot%202023-06-29%20023822.png" alt="views.py login"><br>


#### 5. Implement the templates and define paths
Update the DIRS information in the "settings.py" file with the newly created file paths which directed to the templates file. <br>
<img src="./files/images/Screenshot%202023-06-29%20010908.png" alt="settings.py template"><br>
Update the urlpatterns in the "url.py" file. <br>
<img src="./files/images/Screenshot%202023-06-29%20023728.png" alt="url.py"><br>


#### 6. Run the application
The application now can be run by using the command <code>python manage.py runserver</code>. <br>
<img src="./files/images/Screenshot%202023-06-29%20023611.png" alt="runserver"> <br>
The user interfaces of this application are shown as below: <br>
Registration page: <br>
<img src="./files/images/Screenshot%202023-06-29%20023436.png" alt="register page"><br>
Login page: <br>
<img src="./files/images/Screenshot%202023-06-29%20023454.png" alt="login page"><br>
Customer dashboard: <br>
<img src="./files/images/Screenshot%202023-06-29%20023337.png" alt="result cust"><br>
Technical worker dashboard: <br>
<img src="./files/images/Screenshot%202023-06-29%20023409.png" alt="result tech worker"><br>
Senior management dashboard: <br>
<img src="./files/images/Screenshot%202023-06-29%20023422.png" alt="result snr manage"><br>



## Question 3 (b)
### Steps to implement data replication and synchronization between MySQL and MongoDB

#### 1. Enable binary logging for MySQL Server
Open Xampp Control Panel, select the "Config" button of MySQL, click "my.ini" to open the file and enable the MySQL binary logging, which enable the server to generate binary log files that capture all the data changes. <br>
<img src="./files/images/Screenshot%202023-06-29%20024629.png" alt="xampp"><br>
Enable the binary logging function by uncommentting the line <code>log-bin=mysql-bin</code>.<br>
<img src="./files/images/Screenshot%202023-06-29%20024803.png" alt="my.ini xampp"><br>
Restart the MySQL server to implement the changes.

#### 2. Set up the replica MongoDB instance using MongoDB Atlas
<li>Connect to MongoDB Atlas.</li>
<li>Create new database named "AA" and collection named "Q3". </li>
<li>Create a new user named "1" with password "1" and grant access to the database. </li>
<li>Copy the mongodb+srv connection string of user "1" to clipboard. </li>

#### 3. Create file for data replication and install necessary package
In the directory of "AA_Q3", create a new folder named "Replication". <br>
<img src="./files/images/Screenshot%202023-06-29%20025342.png" alt="mkdir">
In the "Replication" folder, install the <code>mysql-connector-python</code> and <code>pymongo</code> package. <br>
<img src="./files/images/Screenshot%202023-06-29%20025528.png" alt="mysql-connector-python"><br>
<img src="./files/images/Screenshot%202023-06-29%20025629.png" alt="pymongo"><br>

#### 4. Write code for data replication process
The code is written and saved as "replication.py" as shown below. <br>
<img src="./files/images/Screenshot%202023-06-29%20101607.png" alt="rep code1"><br>
<img src="./files/images/Screenshot%202023-06-29%20101642.png" alt="rep code2"><br>
<img src="./files/images/Screenshot%202023-06-29%20101653.png" alt="rep code3"><br>

#### 5. Run the data replication code
The written code is run by using the command <code>python replication.py</code>. <br>
<img src="./files/images/Screenshot%202023-06-29%20034350.png" alt="replication.py"><br>
Results: <br>
Data in MySQL database successfully replicated into the MongoDB database. <br>
<img src="./files/images/Screenshot%202023-06-29%20024510.png" alt="mysql db"><br>
<img src="./files/images/Screenshot%202023-06-29%20034255.png" alt="mongodb"><br>



## Contribution üõ†Ô∏è
Please create an [Issue](https://github.com/drshahizan/special-topic-data-engineering/issues) for any improvements, suggestions or errors in the content.

You can also contact me using [Linkedin](https://www.linkedin.com/in/drshahizan/) for any other queries or feedback.

[![Visitors](https://api.visitorbadge.io/api/visitors?path=https%3A%2F%2Fgithub.com%2Fdrshahizan&labelColor=%23697689&countColor=%23555555&style=plastic)](https://visitorbadge.io/status?path=https%3A%2F%2Fgithub.com%2Fdrshahizan)
![](https://hit.yhype.me/github/profile?user_id=81284918)




